<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript">
        // This script takes the current url and converts the path and query
        // string into a hash fragment route, and then redirects the browser
        // to the new url, e.g. http://www.foo.tld/one/two?a=b&c=d#qwe, becomes
        // http://www.foo.tld/#/one/two?a=b&c=d#qwe

        // (@frec) Note: This is an appropriation of the original script
        // by Rafael Pedicini found at https://github.com/rafrex/spa-github-pages.
        // The original solution took the pathname with query params and hash fragment,
        // and converted it into a query string. This modified solution takes the path
        // and converts it into a hash fragment, which works very well with the
        // hash-based router (history/createHashHistory) I use. I have also got rid
        // of <user_name>.github.io/<project_name> support, because I use a custom
        // domain, my project is what GitHub calls a "User Page" (therefore no path),
        // and I don't plan on ever using their domain.

        // The reason for this entire ordeal is to provide backwards compatibility
        // for my old urls that are still in use around the Internet.

        var l = window.location;
        l.replace(
            l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
            '/#/' +
            l.pathname.slice(1) +
            l.search +
            l.hash
        );
    </script>
</head>
<body>
</body>
</html>
