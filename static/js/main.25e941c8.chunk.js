(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(40)},23:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(9),i=n.n(a),o=(n(23),n(15)),r=n.n(o)()(),s=n(8),l=n(16),c=n.n(l),u=n(0),h=n.n(u);function d(e,t){var n=[],a=c()(e,n).exec(t);if(!a)return null;for(var i=Object.create(null),o=1;o<a.length;o++)i[n[o-1].name]=void 0!==a[o]?a[o]:void 0;return i}var m={resolve:function(e,t){return new Promise(function(n){var a=!0,i=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value,u=t.error?"/error":t.pathname,m=d(c.path,u);if(m){var f;if(c.index){var p=c.index;f=h.a.createElement(p,null,c.action(Object(s.a)({},t,{params:m})))}else f=c.action(Object(s.a)({},t,{params:m}));f&&n(f)}}}catch(b){i=!0,o=b}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}var g=new Error("Not found");throw g.status=404,g})}},f=n(1),p=n(2),g=n(5),b=n(3),y=n(4),v=n(6),w=n(7),k=n.n(w),E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return e.map(function(e,n){return k.a.map(e,function(e,a){return"function"===typeof t?t(a,n):Math.random()<t?1:0})})}(function(e,t){return k.a.chain(k.a.range(1,t+1)).map(function(){return[]}).map(function(t,n){return t.concat(k.a.range(1,e+1).map(function(e,t){return 0}))}).value()}(e,t),n)},C=function(e,t,n,a){var i=n*(e+1)*(t+1),o=1e4*Math.sin(i);return o-Math.floor(o)<a?1:0},j={seed:k.a.floor(999*Math.random()+1),chance:.12,rows:200,columns:200,speed:20},I=function(){function e(t){Object(f.a)(this,e),this.drawer=t,this.interval=null,this.init=this.init.bind(this),this.start=this.start.bind(this),this.__update=this.__update.bind(this),this.stateChangedListener=function(){},this.options=null,this.paused=!1}return Object(p.a)(e,[{key:"__notifyStateChanged",value:function(){this.stateChangedListener()}},{key:"init",value:function(e){var t=this;return new Promise(function(n,a){t.options=Object.assign(j,e),t.__createWorld(),t.__update(),n()})}},{key:"registerStateChangedListener",value:function(e){this.stateChangedListener=e}},{key:"__createWorld",value:function(){var e=this.options.rows,t=this.options.columns;this.world=E(t,e,k.a.partialRight(C,parseInt(this.options.seed)||1,this.options.chance))}},{key:"start",value:function(){this.interval=setInterval(this.__update,this.options.speed),this.paused=!1,this.__notifyStateChanged()}},{key:"pause",value:function(){clearInterval(this.interval),this.paused=!0,this.__notifyStateChanged()}},{key:"changeSpeed",value:function(e){var t=this.paused;this.pause(),this.options=Object.assign(this.options,{speed:e}),t||this.start()}},{key:"changeSeed",value:function(e){var t=this.paused;this.pause(),this.options=Object.assign(this.options,{seed:e}),this.__createWorld(),this.__update(),t||this.start()}},{key:"__update",value:function(){this.world=function(e){for(var t,n,a=[],i=0;i<e.length;i++){a[i]=[];for(var o=0;o<e[i].length;o++){a[i][o]=0;var r=0;e[i-1]&&(r+=e[i-1][o-1],r+=e[i-1][o],r+=e[i-1][o+1]),r+=e[i][o-1],r+=e[i][o+1],e[i+1]&&(r+=e[i+1][o-1],r+=e[i+1][o],r+=e[i+1][o+1]),a[i][o]=(t=e[i][o],n=r,1===t&&k.a.inRange(n,2,4)||0===t&&3===n?1:0)}}return a}(this.world),this.drawer.draw(this.world)}}]),e}(),O={backgroundColor:"#3c3e3f",cellColor:"#2f2f2f",gridSize:5,width:400,height:400},_=function(){function e(t){Object(f.a)(this,e),this.canvas=t}return Object(p.a)(e,[{key:"init",value:function(e){var t=this;return new Promise(function(n,a){t.options=Object.assign(O,e);var i=t.canvas.getContext("2d");i.canvas.width=t.options.width,i.canvas.height=t.options.height,i.fillStyle=t.options.backgroundColor,i.fillRect(0,0,i.canvas.width,i.canvas.height),n()})}},{key:"draw",value:function(e){var t=this.options,n=t.gridSize,a=t.backgroundColor,i=t.cellColor,o=this.canvas.getContext("2d");o.fillStyle=a,o.fillRect(0,0,o.canvas.width,o.canvas.height),o.beginPath(),k.a.forEach(e,function(e,t){var a=t*n;k.a.forEach(e,function(e,t){if(e){var r=t*n;o.fillStyle=i,o.rect(r,a,n,n)}})}),o.fill()}}]),e}(),S=(n(31),function(){return h.a.createElement("span",{className:"game-of-life__boat"},h.a.createElement("div",{className:"game-of-life__boat-cell game-of-life__boat-cell--1"}),h.a.createElement("div",{className:"game-of-life__boat-cell game-of-life__boat-cell--2"}),h.a.createElement("div",{className:"game-of-life__boat-cell game-of-life__boat-cell--3"}),h.a.createElement("div",{className:"game-of-life__boat-cell game-of-life__boat-cell--4"}),h.a.createElement("div",{className:"game-of-life__boat-cell game-of-life__boat-cell--5"}))}),x=(n(32),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(b.a)(t).call(this,e))).state={open:!1},n.controls=null,n.seedInput=null,n.openControls=n.openControls.bind(Object(v.a)(Object(v.a)(n))),n.closeControls=n.closeControls.bind(Object(v.a)(Object(v.a)(n))),n.onBlur=n.onBlur.bind(Object(v.a)(Object(v.a)(n))),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.state.open&&this.controls!==document.activeElement&&this.controls.focus()}},{key:"openControls",value:function(){this.setState({open:!0})}},{key:"closeControls",value:function(){this.setState({open:!1})}},{key:"onBlur",value:function(e){var t=this,n=e.currentTarget;setTimeout(function(){n.contains(document.activeElement)||t.closeControls()},0)}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"game-of-life__controls"},h.a.createElement("div",{className:"game-of-life__toggle",onClick:this.openControls},h.a.createElement(S,null)),h.a.createElement("div",{tabIndex:"0",ref:function(t){e.controls=t},className:"game-of-life__panel ".concat(this.state.open?"active":""),onBlur:this.onBlur},h.a.createElement("div",{className:"game-of-life__panel-header"},"Sorry if it crashes your browser :)"),h.a.createElement("div",{className:"game-of-life__panel-body"},h.a.createElement("div",{className:"input-group"},h.a.createElement("label",{htmlFor:"speed"},"Speed:"),h.a.createElement("div",{id:"inline-submit",className:"icon-button",onClick:this.props.onPauseResumeClick},h.a.createElement("i",{className:"fa fa-".concat(this.props.isPaused?"play":"pause")})),h.a.createElement("div",{id:"input"},h.a.createElement("input",{id:"speed",type:"range",min:"20",max:"500",step:"10",value:this.props.speed,onChange:function(t){t.target.value&&e.props.onSpeedChanged(parseInt(t.target.value))}}))),h.a.createElement("div",{className:"game-of-life__seed-control"},h.a.createElement("div",{className:"input-group"},h.a.createElement("label",{htmlFor:"seed"},"Current generator seed:"),h.a.createElement("div",{id:"inline-submit",className:"icon-button",onClick:function(){e.seedInput.value&&e.props.onSeedChanged(parseInt(e.seedInput.value))}},h.a.createElement("i",{className:"fa fa-check"})),h.a.createElement("div",{id:"input"},h.a.createElement("input",{ref:function(t){e.seedInput=t},id:"seed",type:"number",defaultValue:this.props.seed,onKeyPress:function(t){"Enter"===t.key&&e.value&&e.props.onSeedChanged(parseInt(e.value))}})))))))}}]),t}(u.Component));x.defaultProps={isPaused:!1,onPauseResumeClick:function(){},onSpeedChanged:function(){},onSeedChanged:function(){},onStartAgainClick:function(){}};var N=x,R=(n(33),function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(g.a)(this,Object(b.a)(t).call(this,e))).game=null,n.canvas=null,n.state={gameReady:!1},n.handlePauseResumeClick=n.handlePauseResumeClick.bind(Object(v.a)(Object(v.a)(n))),n.handleSpeedChanged=n.handleSpeedChanged.bind(Object(v.a)(Object(v.a)(n))),n.handleSeedChanged=n.handleSeedChanged.bind(Object(v.a)(Object(v.a)(n))),n.registerResizeEventListener=n.registerResizeEventListener.bind(Object(v.a)(Object(v.a)(n))),n}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.initializeGame()}},{key:"registerResizeEventListener",value:function(){var e,t,n=this,a=window.innerWidth,i=window.innerHeight;window.addEventListener("resize",function(){void 0===t&&(t=n.game.paused),clearTimeout(e),e=setTimeout(function(){n.canvasDrawer.init(Object(s.a)({},n.getCanvasDimensions(),{gridSize:5})),(a<window.innerWidth||i<window.innerHeight)&&(n.game.pause(),n.game.init(Object(s.a)({},n.getWorldDimensions(),{gridSize:5})).then(function(){t||n.game.start(),t=void 0}))},250)})}},{key:"initializeGame",value:function(){var e=this;return this.canvasDrawer=new _(this.canvas),this.game=new I(this.canvasDrawer),this.canvasDrawer.init(Object(s.a)({},this.getCanvasDimensions(),{gridSize:5})),this.game.init(Object(s.a)({},this.getWorldDimensions(),{gridSize:5})).then(this.game.registerStateChangedListener(this.forceUpdate.bind(this))).then(function(){e.setState({gameReady:!0})}).then(this.registerResizeEventListener).then(this.game.start)}},{key:"getWorldDimensions",value:function(){return{rows:k.a.floor(document.body.clientHeight/5),columns:k.a.floor(document.body.clientWidth/5)}}},{key:"getCanvasDimensions",value:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}}},{key:"handlePauseResumeClick",value:function(){this.game.paused?this.game.start():this.game.pause()}},{key:"handleSpeedChanged",value:function(e){this.game.changeSpeed(e)}},{key:"handleSeedChanged",value:function(e){this.game.changeSeed(e)}},{key:"render",value:function(){var e=this;return h.a.createElement("span",null,h.a.createElement("div",{className:"game-of-life-wrapper"},h.a.createElement("canvas",{id:"canvas",ref:function(t){e.canvas=t}})),this.state.gameReady&&h.a.createElement(N,{isPaused:this.game.paused,seed:this.game.options.seed,speed:this.game.options.speed,onPauseResumeClick:this.handlePauseResumeClick,onSpeedChanged:this.handleSpeedChanged,onSeedChanged:this.handleSeedChanged}))}}]),t}(u.Component)),P=(n(34),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"Index"},h.a.createElement(R,null),h.a.createElement("div",{className:"main--content"},this.props.children))}}]),t}(u.Component)),T=(n(35),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"simple-header"},h.a.createElement("a",{href:"https://frec.pl"},h.a.createElement("span",{className:"simple-header--home"},"frec.pl")))}}]),t}(u.Component)),D=(n(36),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"simple--container"},h.a.createElement(T,null),h.a.createElement("div",{className:"simple--content"},this.props.children))}}]),t}(u.Component)),L=(n(37),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement("div",{className:"index--hello"},"frec.pl",h.a.createElement("div",{className:"social"},h.a.createElement("a",{href:"https://www.linkedin.com/in/FilipRec"},h.a.createElement("i",{className:"fa fa-linkedin fa-2x"})),h.a.createElement("a",{href:"https://github.com/zefj"},h.a.createElement("i",{className:"fa fa-github fa-2x"})),h.a.createElement("a",{href:"https://www.facebook.com/naamioni"},h.a.createElement("i",{className:"fa fa-facebook fa-2x"}))))}}]),t}(u.Component)),z=n(10),B=n.n(z),H=n(17),M=n.n(H),W=(n(38),n(39),function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.highlightCode(),this.loadDisqus()}},{key:"highlightCode",value:function(){var e,t=i.a.findDOMNode(this).querySelectorAll("pre code");for(B.a.registerLanguage("bash",M.a),e=0;e<t.length;e++)B.a.highlightBlock(t[e])}},{key:"loadDisqus",value:function(){window.disqus_config=function(){this.page.url="https://frec.pl".concat(window.location.pathname),this.page.identifier=window.location.pathname,this.page.title=document.title};var e=this.disqus=document.createElement("script"),t=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];e.async=!0,e.type="text/javascript",e.src="//zefplayground.disqus.com/embed.js",t.appendChild(e)}},{key:"render",value:function(){return h.a.createElement("div",{className:"post"},this.props.children,h.a.createElement("div",{id:"disqus_thread"}))}}]),t}(u.Component));W.Title=function(e){return h.a.createElement("div",{className:"post--title"},e.children)},W.Body=function(e){return h.a.createElement("div",{className:"post--body"},e.children)};var A=W,G=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement(A,null,h.a.createElement(A.Title,null,"Automated guitar tuning system"),h.a.createElement(A.Body,null,h.a.createElement("p",null,"I've graduated from the Westpomeranian University of Technology in Szczecin, Poland. This means I'm now officially an engineer. The automated guitar tuning system was built for my thesis, you can read the ",h.a.createElement("a",{href:"http://frec.pl/bscthesis.txt"},"abstract here"),"."),h.a.createElement("p",null,"The tuner is a prototype, it was intended to be a proof-of-concept. It is not\xa0ideal, which is why I will not be doing any tutorials, or DIY posts. I consider this project over, it made me an engineer and I think it's time to move on :)\xa0"),h.a.createElement("p",null,"It was a pain to tune the PID regulator, because the guitar keys are not consistent which makes the entire system really difficult to control. That being said, most of the times the whole process ends within seconds, which is a really good result, considering the architecture. What I mean by that is that\xa0Linux is not suitable for real time applications. It does alright, but does not shine. The frequency detection method works fine, the tuning algorithm too, but servo control on Raspberry Pi is far from\xa0effective. This causes the servo to sometimes refuse\xa0to start, but other than that I am really happy with the\xa0AR-3606HB and Raspberry Pi combo, it turned out to be far more forgiving to inconsistent pulses - some other servos I tested would not work with the Pi at all!\xa0"),h.a.createElement("p",null,"The KeDei touchscreen I had so much trouble with was obviously needed for the GUI. I managed to get it working, and with some hacks in the code it works quite well."),h.a.createElement("p",null,"In the end, I've decided to let go of multiprocessing, and opted for multithreading just for the non-blocking GUI. The algorithms no longer run parallel, because it made that much more mess and didn't really improve anything. If my timings are correct, one loop takes about 40 ms, which considering the servo update frequency of 50 Hz could very well be almost exactly two pulses per loop. This might be a good talking point, but I have not checked how the RPI.GPIO library works or studied how the\xa0Pi handles pulses generation and code execution, so I wouldn't know if this actually is as significant as it sounds to me. Definitely a lot more to learn in this field, and I've already got some projects with servos in mind, so this will eventually happen ;)"),h.a.createElement("p",null,"Anyway, check the short video below to see how it works."),h.a.createElement("p",null,h.a.createElement("iframe",{title:"youtube",frameBorder:"0",height:"315",scrolling:"no",src:"https://www.youtube.com/embed/UIllShJdyeE",style:{maxWidth:"100%"},width:"100%"})),h.a.createElement("p",null,"As always, you can see the ",h.a.createElement("a",{href:"https://github.com/zefj/guitar-tuning-system"},"code on Github"),". The touchscreen and framebuffer issues made me\xa0seriously consider just\xa0building a GUI in Flask, HTML and CSS, and displaying a webpage on the screen. Having sorted that out, PyGame was my only option since it allows rendering stuff directly to the framebuffer (which means starting the app from the console without having to start X Server).\xa0Due to lack of references on how to properly structure everything PyGame\xa0GUI code (and Tkinter before)\xa0always somehow turns out to be a big mess. So don't look into gui.py, I've never used the libraries before, I was in a hurry and it's a mess."),h.a.createElement("p",null,"This project is a big personal success, it proved that with enough determination you can gain knowledge and understanding in any field you want. It was fun to develop, less fun to write 70 pages about, but in the end the committee rated it highly and I received the highest possible grades, both for the thesis and defense."),h.a.createElement("p",null,"So yeah, I'm an engineer :)")))}}]),t}(u.Component),F=function(e){function t(){return Object(f.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return h.a.createElement(A,null,h.a.createElement(A.Title,null,'Compiling custom Raspberry Pi kernel with KeDei 3.5" touchscreen V2 drivers'),h.a.createElement(A.Body,null,h.a.createElement("p",null,"I wanted to save a couple of bucks on a Raspberry Pi touchscreen, so I ordered one off aliexpress, thinking it would be a Waveshare knock-off, compatible with their drivers, fbtft or something. I was hoping for an easy set up, but that certainly was not the case. What I received was a ",h.a.createElement("strong",null,"KeDei 3.5 inch SPI TFT LCD, version 2"),". If you have one as well, you already probably know there's a difference between V1 and V2. If you don't, there's not much for you to read here."),h.a.createElement("p",null,'Anyway, after spending two days trying to get this thing to work I can finally share what I managed to figure out by research and a lot of trial and error. The seller provides a package with "drivers". What they really are is just an old, custom kernel and two files to turn the screen on and off. However, this replaces the framebuffer, which means HDMI output is overridden and you need to restart your Pi every time you want to switch the console/X between LCD and HDMI. But most importantly: ',h.a.createElement("strong",null,"using those files replaces your kernel with a 3.18.x version"),". This is far from ideal, I need 4.x.x because of native support for my Wi-Fi dongle. Besides, it supposedly blocks any unused GPIO pins. To be honest, you can just give up on trying to download any files from your seller (mine provided a SCREENSHOT of a URL, a google drive one with a really long hash in it, can you believe that). Luckily, there's a diff file from the manufacturer."),h.a.createElement("p",null,"Before you read on, I strongly suggest you to ",h.a.createElement("a",{href:"http://heikki.virekunnas.fi/2015/raspberry-pi-tft/"},"read this post")," (by Heikki Virekunnas) as well. The author found himself in a similar situation, however his screen is version 1, which means his package will not work for you, but might shed some light on what we're doing here."),h.a.createElement("p",null,"I've decided to try and compile my own kernel, from the latest release source files. This is your best shot if you want a working KeDei screen with a newer kernel. I've never done that, but it turned out to be fairly simple following the link above as well as some aid from Google Search and the ",h.a.createElement("a",{href:"https://www.raspberrypi.org/documentation/linux/kernel/building.md"},"official guide on building your custom kernel"),". After downloading the Linux source files from github, you're gonna have to patch it, paste a driver file into an appropriate directory, and create a config file. I've uploaded all the necessary files to ",h.a.createElement("a",{href:"https://github.com/zefj/kedei2-patchfiles"},"this repo"),". You can hopefully figure out appropriate paths, all the directories and filenames are just as they are in the source files."),h.a.createElement("p",null,"A quick explanation: "),h.a.createElement("ul",null,h.a.createElement("li",null,"The official diff file is broken as hell, won't work because it misses some differences, and is built from comparing to an old kernel version, which means a lot of confusion if you try to patch it manually. If your linux source files match the release I used (",h.a.createElement("a",{href:"https://github.com/raspberrypi/linux/commit/853eff4e9b369cdc20be7c538bc5a5291eeab31d"},"commit"),"), either use my patch file, or just directly copy-paste the files. If not, you can try to use the one Heikki provided in his post, it should work as well. If neither goes through, with little work you can figure out what needs to be added or commented out, and modify the code on your own."),h.a.createElement("li",null,".config file is from Heikki, I ran it through make oldconfig and turned the ili9341 driver on afterwards"),h.a.createElement("li",null,"the ili9341.c driver is from the patch file supplied by the seller. There are two versions of this driver floating around the Internet, only the one in my repo works for V2 displays (and I also patched some errors, so you probably want to use that one)")),h.a.createElement("p",null,"This is what happens if you follow Heikki's TL;DR or compile the kernel with V1 drivers on a V2 screen (hint: the colours are inverted):"),h.a.createElement("p",null,h.a.createElement("img",{alt:"",src:"/media/uploads/2015/12/25/rpiinve.jpg"})),h.a.createElement("p",null,"So, after 7 or 8 tries, it finally worked. By trial and error I was able to figure out the appropriate combination. I've used Heikki's diff file, and the ili9341.c file from the \"official\" patch. I ran the .config through make oldconfig, manually made sure the ili9341 driver is turned on, and then compiled according to the guide. Cross compiling is the way to go, I used VirtualBox with Ubuntu 14.04 on it, and used raspberrypi/linux repo ",h.a.createElement("a",{href:"https://github.com/raspberrypi/linux/commit/853eff4e9b369cdc20be7c538bc5a5291eeab31d"},"commit"),". You can surely figure out any missing dependencies."),h.a.createElement("p",null,"After compiling and flashing it to your sd card, make sure to add ",h.a.createElement("i",null,"ili9341")," and ",h.a.createElement("i",null,"fb_ili9341")," to your ",h.a.createElement("i",null,"/etc/modules"),". Doing that, ",h.a.createElement("kbd",null,"ls /dev/")," should report ",h.a.createElement("i",null,"/dev/fb0")," (which would be your HDMI framebuffer), and ",h.a.createElement("i",null,"/dev/fb1")," (the LCD). If that is the case, you can use the ",h.a.createElement("kbd",null,"con2fbmap 1 1")," and ",h.a.createElement("kbd",null,"con2fbmap 1 0")," commands in headless mode to change between them. If you want to boot X to your LCD, go to ",h.a.createElement("i",null,"/usr/share/X11/xorg.conf/99-fbturbo.conf")," and change ",h.a.createElement("i",null,"fb0")," to ",h.a.createElement("i",null,"fb1"),"."),h.a.createElement("p",null,"And that should do it. You can now enjoy the latest kernel with support for your new cheap touchscreen."),h.a.createElement("p",null,h.a.createElement("img",{alt:"",src:"/media/uploads/2015/12/25/rpinorm.jpg"})),h.a.createElement("hr",null),h.a.createElement("h1",null,"TL;DR:"),h.a.createElement("p",null,"There's a (hopefully complete) list of steps:"),h.a.createElement("ol",null,h.a.createElement("li",null,"Clone repos",h.a.createElement("pre",null,h.a.createElement("code",{className:"bash"},"cd /home/user/\n          git clone https://github.com/raspberrypi/tools\n          export CCPREFIX=/home/user/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-\n          git clone --depth=1 https://github.com/raspberrypi/linux\n          git clone https://github.com/zefj/kedei2-patchfiles")),h.a.createElement("p",null,"Make sure your variable works fine by running ","${CCPREFIX}","gcc -v, if the returned wall of text is different than gcc -v, and there don't seem to be any errors, you're fine.")),h.a.createElement("li",null,"Patch source files",h.a.createElement("pre",null,h.a.createElement("code",{className:"bash"},"cd linux/\n          cat /home/user/kedei2-patchfiles/kedei-diff.patch | patch -p1\n          cp /home/user/kedei2-patchfiles/drivers/video/fbdev/ili9341.c drivers/video/fbdev/ili9341.c\n          cp /home/user/kedei2-patchfiles/.config .config\n\n          OR\n\n          cp -r kedei2-patchfiles/. linux/\n\n          OR\n\n          Use the patch from http://heikki.virekunnas.fi/wp-content/uploads/sites/2/2015/08/ili9341_patch.diff, and the ili9341.c driver and .config from my repo.\n          ")),h.a.createElement("p",null,"Make sure every file is patched! Changes to bcm2708.c, bcm2709.c, Kconfig and Makefile in directories as in my repo. You also need ili9341.c present.")),h.a.createElement("li",null,"Create config file",h.a.createElement("pre",null,h.a.createElement("code",{className:"bash"},"cd linux/\n          make ARCH=arm CROSS_COMPILE=${CCPREFIX} oldconfig")),h.a.createElement("p",null,"This will take the config file and run it against the kernel to check for any missing options. You need to edit it manually after it returns to make sure CONFIG_FB_ILI9341 is set to 'm'. Just search for it, remember to delete the leading hash if there is one.")),h.a.createElement("li",null,"Compile!",h.a.createElement("pre",null,h.a.createElement("code",{className:"bash"},"\u200bmake ARCH=arm CROSS_COMPILE=${CCPREFIX} zImage modules dtbs"))),h.a.createElement("li",null,h.a.createElement("p",null,"Move the files to your Raspberry Pi SD card according to the 'install directly onto the sd card' section in the official kernel building guide.")))))}}]),t}(u.Component),q=[{path:"/",action:function(){return h.a.createElement(L,null)},index:P},{path:"/thesis",action:function(){return h.a.createElement(G,null)},index:D},{path:"/blog/compiling-custom-raspberry-pi-kernel-with-kedei-35/",action:function(){return h.a.createElement(F,null)},index:D}],U=document.getElementById("root");function V(e){i.a.render(e,U)}function X(e){m.resolve(q,e).then(V).catch(function(e){console.error(e.stack),r.push("/")})}r.listen(X),X(r.location)}},[[18,1,2]]]);
//# sourceMappingURL=main.25e941c8.chunk.js.map